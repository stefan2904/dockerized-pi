* dockerized-pi

"There are many coding agents dockerizations, but this one is mine."

Dockerfiles and scripts to containerize the [[https://github.com/badlogic/pi-mono][pi]] coding agent.
Includes various helpers and opinionated customizations.

-----

** Setup & Usage

*** Environment Variables
The following environment variables can be configured in =dockerize/.env= (see =dockerize/.env.template=):
- =BOT_GH_TOKEN=: GitHub personal access token (for =gh= CLI authentication).
- =BOT_SENTRY_TOKEN=: Sentry auth token (for =sentry-cli= authentication). Get one at [[https://turing-6b.sentry.io/settings/account/api/auth-tokens/][Sentry Personal Tokens]].
- =BOT_GIT_NAME=: Git user name (for changes done in the container/by pi).
- =BOT_GIT_EMAIL=: Git user email (for changes done in the container/by pi).
- =ANTHROPIC_API_KEY=: Anthropic API key.
- =OPENAI_API_KEY=: OpenAI API key.
- =GOOGLE_GENERATIVE_AI_API_KEY=: Google Generative AI API key (Gemini).
- =PI_CACHE_RETENTION=: Cache retention period (e.g., =7d=).

*** Helper Commands
- =./build.sh=: Build the docker image (optionally pass a version like =./build.sh 1.0.0=).
- =./pi.sh --install=: Install =pi=, =pic=, and =picommit= aliases in =~/.zshrc.local=.
- =./pi.sh --update=: Update the agent to the latest version and rebuild the docker image.
- =./pi.sh --sessions=: List session past sessions.
- =./pi.sh -r= or =--resume=: Select and resume a past session.
- =./pi.sh --ro= or =--readonly=: Mount the workspace in read-only mode.
- =./pi.sh <args>=: Run =pi= with the given arguments inside the container.

*** Pi Alias Commands
Install using =./pi.sh --install=.
- =pi=: Run the agent in the current directory.
- =pic=: Continue the last session (=pi --continue=).
- =picommit=: Automatically stage and commit changes using the =/commit= template.

-----

** Features

*** Prompt Templates
- =/commit=: Automatically stage and commit changes with conventional commit messages.

*** Extensions
- =/quota-antigravity=: Show Antigravity usage limits and quotas.
- =/quota-copilot=: Show GitHub Copilot usage statistics and quotas.
- =/files-changed=: Show a list of files read, written, or edited in the current session.

*** Skills
- =git-autopep8=: Automatically formats changed lines in Python files using =git= and =autopep8=.

*** Tools (Custom)
- =get_antigravity_quota=: Fetch Antigravity usage limits (available to the model).
- =get_copilot_quota=: Fetch GitHub Copilot usage limits (available to the model).
- =get_files_changed=: List files touched in the session (available to the model).
